---
apiVersion: we.are.developers.demo/v1alpha1
kind: XAPIGateway
metadata:
  name: "{{- include "identifier" . }}-apigateway"
  annotations:
    argocd.argoproj.io/sync-wave: "3"
spec:
  service:
    name: {{ .Values.application.name }}
    region: {{ .Values.application.region }}
    cluster: {{ .Values.application.cluster }}
  properties:
    protocol: HTTP
  compositionSelector:
    matchLabels:
      provider: aws
